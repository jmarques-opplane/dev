<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet" rel="preload" as="font" crossorigin="anonymous">

<div class="structure" style ="background-color: #E8E8E8;">
  <div class="app-bar" anvil-drop-container=".anvil-container" anvil-drop-redirect=".placeholder">
    <a class="sidebar-toggle" anvil-if-slot-empty="top-left-btn" anvil-hide-if-slot-empty="left-nav" anvil-drop-slot="top-left-btn" href="javascript:void(0)"><i class="fa fa-bars"></i></a>
    <a class="sidebar-toggle anvil-designer-only" anvil-if-slot-empty="top-left-btn" anvil-if-slot-empty="left-nav" anvil-drop-slot="top-left-btn"><i class="fa fa-blank"></i></a>
    <div class="top-left-btn" anvil-slot="top-left-btn"></div>
    <div class="title" anvil-slot="title">
      <div class="placeholder anvil-designer-only" anvil-if-slot-empty="title" anvil-drop-here>Drop title here</div>
    </div>
    <div class="app-bar-nav" anvil-slot="nav-right">
      <div class="placeholder anvil-designer-only" anvil-if-slot-empty="nav-right" anvil-drop-here>Drop a FlowPanel here</div>
    </div>
    <div style="clear:both"></div>
  </div>

  <div class="nav-holder" style ="background-color: #E8E8E8;">
    <div class="left-nav anvil-measure-this" style ="background-color: #E8E8E8 !important;"anvil-slot-repeat="left-nav" anvil-drop-container=">.anvil-container">
      <div style="padding-left: 20px;" id="sidebar">
        <ul class="list-unstyled components">
            <li>
                <a style="color: #646464;" href="#submenu1" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">
                  <img src="_/theme/016-safety.svg" style="height:20px; width:20px; margin-right: 5px;" />
                    Data Quality
                </a>
                <ul class="collapse list-unstyled" id="submenu1">
                    <li><a style="color: #646464; padding-left: 30px;" href="#">Transaction Enrichment</a></li>
                </ul>
            </li>
            <li>
                <a style="color: #646464;" href="#">
                  	<svg class="group" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M17.6562 4.14062H20V5.3125H17.6562V4.14062Z" fill="#646464"/>
                      <path d="M19.4141 0.0390625H0.585938C0.262344 0.0390625 0 0.301406 0 0.625V15.8594C0 16.183 0.262344 16.4453 0.585938 16.4453H19.4141C19.7377 16.4453 20 16.183 20 15.8594V13.5156H17.6562V14.1016C17.6562 14.4252 17.3939 14.6875 17.0703 14.6875H2.92969C2.60609 14.6875 2.34375 14.4252 2.34375 14.1016V2.38281C2.34375 2.05922 2.60609 1.79688 2.92969 1.79688H17.0703C17.3939 1.79688 17.6562 2.05922 17.6562 2.38281V2.96875H20V0.625C20 0.301406 19.7377 0.0390625 19.4141 0.0390625Z" fill="#646464"/>
                      <path d="M17.6562 11.1719H20V12.3438H17.6562V11.1719Z" fill="#646464"/>
                      <path d="M17.6562 6.48438H20V10H17.6562V6.48438Z" fill="#646464"/>
                      <path d="M7.11523 8.74789C7.19355 9.1943 7.37293 9.60609 7.62938 9.95887C7.80211 9.93781 7.98234 9.99305 8.11488 10.1257C8.24746 10.2582 8.30269 10.4385 8.28168 10.6112C8.64633 10.8762 9.07391 11.0595 9.5377 11.1334C9.64492 10.9955 9.81191 10.9065 10 10.9065C10.1882 10.9065 10.3552 10.9955 10.4624 11.1334C10.8821 11.0665 11.2722 10.9102 11.6129 10.6846C11.5187 10.4676 11.5618 10.206 11.7415 10.0314C11.9209 9.85687 12.1834 9.82113 12.3976 9.92109C12.6245 9.59844 12.7885 9.22863 12.8704 8.82895C12.6495 8.7425 12.4943 8.52668 12.4978 8.27559C12.5012 8.0248 12.6621 7.81363 12.8849 7.73316C12.8066 7.28676 12.6271 6.87492 12.3707 6.52215C12.3471 6.52504 12.3233 6.52699 12.2995 6.52699C12.1496 6.52699 11.9996 6.4698 11.8853 6.35539C11.7527 6.22281 11.6974 6.04258 11.7185 5.86984C11.3538 5.60481 10.9262 5.42152 10.4625 5.34766C10.3552 5.48551 10.1882 5.57453 10.0001 5.57453C9.81199 5.57453 9.64496 5.48551 9.53777 5.34766C9.11805 5.41449 8.72793 5.5709 8.3873 5.79641C8.48141 6.01336 8.4384 6.27492 8.25879 6.44957C8.14492 6.56031 7.99754 6.61547 7.85031 6.61547C7.76547 6.61547 7.6809 6.59645 7.60258 6.55992C7.3757 6.88258 7.21164 7.25242 7.12984 7.65215C7.35062 7.73859 7.5059 7.95441 7.50238 8.20551C7.49879 8.45621 7.33793 8.66738 7.11523 8.74789ZM10 6.4827C10.9693 6.4827 11.7579 7.27125 11.7579 8.24051C11.7579 9.20977 10.9693 9.99832 10 9.99832C9.03078 9.99832 8.24223 9.20977 8.24223 8.24051C8.24223 7.27125 9.03078 6.4827 10 6.4827Z" fill="#646464"/>
                      <path d="M16.4844 13.5156V2.96875H3.51562V13.5156H16.4844ZM10 4.14062C12.2616 4.14062 14.1016 5.98059 14.1016 8.24219C14.1016 10.5038 12.2616 12.3438 10 12.3438C7.7384 12.3438 5.89844 10.5038 5.89844 8.24219C5.89844 5.98059 7.7384 4.14062 10 4.14062Z" fill="#646464"/>
                      <path d="M10 8.82812C10.3231 8.82812 10.5859 8.56527 10.5859 8.24219C10.5859 7.9191 10.3231 7.65625 10 7.65625C9.67691 7.65625 9.41406 7.9191 9.41406 8.24219C9.41406 8.56527 9.67691 8.82812 10 8.82812Z" fill="#646464"/>
                      <path d="M14.1046 19.5926C14.1936 19.8151 14.409 19.9609 14.6486 19.9609H18.2424C18.566 19.9609 18.8283 19.6986 18.8283 19.375V17.6172H13.3145L14.1046 19.5926Z" fill="#646464"/>
                      <path d="M1.17188 19.375C1.17188 19.6986 1.43422 19.9609 1.75781 19.9609H5.35156C5.59117 19.9609 5.8066 19.8151 5.89559 19.5926L6.68574 17.6172H1.17188V19.375Z" fill="#646464"/>
                    </svg> 
                  Self Driving Insights
                </a>
            </li>
        </ul>
      </div>
    </div>
    
    
    
    <div class="content" style ="background-color: #E8E8E8;">
      <div anvil-slot-repeat="default" class="anvil-measure-this"></div>
      <div class="placeholder drop-here" anvil-if-slot-empty="default" anvil-drop-slot="default">Drop a ColumnPanel here.</div>
    </div>
  </div>

  <div class="nav-shield"></div>
</div>
<div anvil-drop-default anvil-drop-redirect=".placeholder" anvil-drop-container=".anvil-container"></div>
 
<script>
  var ln = $('.structure > .nav-holder > .left-nav');
  var lnp = $('.structure > .nav-holder > .left-nav-placeholder');
  var appBar = $('.app-bar')[0];
  
  function hideSidebar() {
    ln.animate({left: -ln.outerWidth()}, function() {
      ln.removeClass("in-transition shown").addClass("hidden");
      $('.nav-shield').removeClass("shown");
      $(window).trigger('resize');
    });
    if (window.innerWidth > 998) { 
      $('.content').animate({'margin-left':0}, function(){})
    }
  }
  
  function showSidebar() {
    $('.nav-shield').addClass("shown");
    ln.addClass("shown").removeClass("hidden").css({left: "-100%"}).css({left: -ln.outerWidth()}).animate({left: 0}, function() {
      ln.removeClass("in-transition");
    });
    $(window).trigger('resize');
    if (window.innerWidth > 998) {
      $('.content').animate({'margin-left': ln.outerWidth().toString() + 'px'}, function(){})
    } 
  }
  
  $('.sidebar-toggle, .nav-shield').off('click').on('click', function() { 
    if (ln.is(":visible") || $('.nav-shield').is(".shown")) {
      hideSidebar();
    } else if(!ln.is(":empty")) {
      showSidebar();
    }
  });
  $('.left-nav').off('click').on('click', 'a, button', function() {
    if ($('.nav-shield').is(":visible")) {
      $('.nav-shield').trigger('click');
    }
  });
  
  document.addEventListener('scroll', function() {
    if (appBar.classList.contains('scrolled')) {
      if (window.scrollY === 0) {
        appBar.classList.remove('scrolled')
      }
    }
    else {
      appBar.classList.add('scrolled')
    }
  });

  function addMarginToContent() {
    //check if there is a free banner and set the top margin accordiningly
    let topMargin;
    if ($('#anvil-header').css('display') == 'block') {
      topMargin = appBar.clientHeight + 50
    } else {
      topMargin = appBar.clientHeight
    }
    //the left-nav-placeholder in the designer needs to shift down for the app bar
    lnp.css({'top': appBar.clientHeight.toString() + 'px'})

    //if the window is small
    if (window.innerWidth < 999) {
      //if in Anvil designer
      if (window.anvilInDesigner) {
        //add left margin to content to make room for left-nav or left-nav-placeholder
        $('.content').css({'margin-left': Math.max(ln.outerWidth(), lnp.outerWidth()).toString() + 'px'});
        $('.content').css({'margin-top': appBar.clientHeight.toString() + 'px'})
        ln.css({'top': topMargin.toString() + 'px'})
      } else {
        //if not in Anvil designer, content gets no left margin because left-nav will be a modal overlay
        $('.content').css({'margin-left': '0px'});
        ln.css({'top': '0px'})
        //add top margin to content
        $('.content').css({'margin-top': topMargin.toString() + 'px'});
      }
    } else {
      //if the window is big, add margin to content and left-nav for app bar
      $('.content').css({'margin-top': appBar.clientHeight.toString() + 'px'});
      ln.css({'top': topMargin.toString() + 'px'})
      if (window.anvilInDesigner) {
        //if in the designer, add left margin for either the left-nav or the placeholder
        $('.content').css({'margin-left': Math.max(ln.outerWidth(), lnp.outerWidth()).toString() + 'px'});
      } else {
        //if not in the designer, only add margin for the left-nav because placeholder still has a width outside of designer
        $('.content').css({'margin-left': ln.outerWidth() + 'px'});
      }
    }
  }
  
  addMarginToContent()
  window.addEventListener('resize', addMarginToContent);
 
</script>